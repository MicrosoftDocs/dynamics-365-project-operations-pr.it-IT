---
title: Aggiungere campi personalizzati alla configurazione dei prezzi e ad entità transazionali
description: In questo argomento vengono fornite informazioni sull'aggiunta di campi personalizzati alla configurazione dei prezzi e ad entità transazionali.
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.service: business-applications
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: e1a8d6319788ee73e0e2837a47cba89108c32572
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/15/2021
ms.locfileid: "5275318"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="b5ad1-103">Aggiungere campi personalizzati alla configurazione dei prezzi e ad entità transazionali</span><span class="sxs-lookup"><span data-stu-id="b5ad1-103">Add custom fields to price setup and transactional entities</span></span> 

[!include [banner](../includes/psa-now-project-operations.md)]

<span data-ttu-id="b5ad1-104">In questo argomento si presuppone che siano state completate le procedure incluse in [Creare campi ed entità personalizzati](create-custom-fields-entities.md).</span><span class="sxs-lookup"><span data-stu-id="b5ad1-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="b5ad1-105">Se non hai completato queste procedure, completale prima di leggere questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="b5ad1-106">In questo argomento, le procedure mostreranno come aggiungere i riferimenti di campo personalizzati necessari alle entità e agli elementi dell'interfaccia utente come moduli e viste.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="b5ad1-107">Aggiungere campi per dimensioni di determinazione dei prezzi personalizzate</span><span class="sxs-lookup"><span data-stu-id="b5ad1-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="b5ad1-108">Dopo la creazione di campi ed entità personalizzati, è necessario indicare alla configurazione dei prezzi e alle entità transazionali l'esistenza di entità personalizzate o set di opzioni creando campi di riferimento.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="b5ad1-109">A seconda se l'elenco delle dimensioni di determinazione dei prezzi include dimensioni di set di opzioni o di entità oppure entrambe, segui solo i passaggi in **Dimensioni di determinazione dei prezzi personalizzate basate su set di opzioni** o in **Dimensioni di determinazione dei prezzi personalizzate basate su entità** oppure in entrambi le sezioni.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="b5ad1-110">Dimensioni di determinazione dei prezzi personalizzate basate su set di opzioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="b5ad1-111">Quando una dimensione di determinazione dei prezzi è basata su set di opzioni, aggiungila come campo alle entità chiave di Project Service.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="b5ad1-112">Nella procedura seguente, **Ubicazione lavoro risorsa** e **Ore lavorative risorsa** vengono utilizzati come dimensioni di determinazione dei prezzi basate su set di opzioni.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="b5ad1-113">Questi devono essere dapprima aggiunti come campi alle entità di determinazione dei prezzi, ovvero **Prezzo ruolo** e **Ricarico prezzo ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="b5ad1-114">In Project Service Automation (PSA) fai clic su **Impostazioni** > **Soluzioni** e quindi fai doppio clic su **dimensioni di determinazione dei prezzi di \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-114">In Project Service Automation (PSA), click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="b5ad1-115">In Esplora soluzioni, nel riquadro di spostamento a sinistra, seleziona **Entità > Prezzo ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="b5ad1-116">Espandi l'entità **Prezzo ruolo** e seleziona **Campi**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="b5ad1-117">Fai clic su **Nuovo** per creare un nuovo campo denominato **Ubicazione lavoro risorsa** e seleziona **Set di opzioni** come tipo di campo.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="b5ad1-118">Seleziona **Utilizza come set di opzioni esistente**, seleziona il set di opzioni **Ubicazione lavoro risorsa** e quindi fai clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-118">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="b5ad1-119">Ripeti i passaggi da 1 a 5 per aggiungere questo campo all'entità **Ricarico prezzo ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="b5ad1-120">Ripeti i passaggi da 1 a 5 per il set di opzioni **Ore lavorative risorsa**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b5ad1-121">Quando aggiungi un campo a più entità, utilizza lo stesso nome di campo in tutte le entità.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![Aggiungere Ubicazione lavoro risorsa a Prezzo ruolo](media/RWL-Field.png)

<span data-ttu-id="b5ad1-123">Nelle fasi di vendita e stima di un progetto, le stime del lavoro richiesto per completare il lavoro **Locale** e **In loco**, presenti in **Ore regolari** e **Ore di lavoro straordinario**, sono utilizzate per stimare il valore dell'offerta/del progetto.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="b5ad1-124">I campi **Ubicazione lavoro risorsa** e **Ore lavorative risorsa** sono aggiunti alle entità di stima **Dettagli riga di offerta**, **Dettaglio voce di contratto**, **Attività di progetto**, **Membro del team di progetto** e **Riga di stima**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="b5ad1-125">In PSA fai clic su **Impostazioni** > **Soluzioni** e quindi fai doppio clic su **dimensioni di determinazione dei prezzi di \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-125">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="b5ad1-126">In Esplora soluzioni, nel riquadro di spostamento a sinistra, seleziona **Dettagli riga di offerta**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="b5ad1-127">Espandi l'entità **Dettagli riga di offerta** e seleziona **Campi**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="b5ad1-128">Fai clic su **Nuovo** per creare un nuovo campo denominato **Ubicazione lavoro risorsa** e seleziona il tipo di campo **Set di opzioni**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="b5ad1-129">Seleziona **Utilizza come set di opzioni esistente** e **Ubicazione lavoro risorsa** e quindi fai clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-129">Select **Use an existing Option set** and **Resource Work Location**, and then click **Save**.</span></span>
6. <span data-ttu-id="b5ad1-130">Ripeti i passaggi da 1 a 5 per aggiungere questo campo alle entità **Dettagli di voce di contratto di progetto**,**Attività di progetto**, **Membro del team di progetto** e **Riga di stima**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**,**Project Task**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="b5ad1-131">Ripeti i passaggi da 1 a 6 per il set di opzioni **Ore lavorative risorsa**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Aggiungere Ubicazione lavoro risorsa a Riga di stima](media/RWL-Default-Value.png)


<span data-ttu-id="b5ad1-133">Per la consegna e la fatturazione, è necessario determinare correttamente il prezzo del lavoro completato per specificare se è **Locale** o **In loco** e se è stato completato durante le **Ore regolari** o le **Ore di lavoro straordinario** per i valori effettivi di progetto.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="b5ad1-134">I campi **Ore lavorative di una risorsa** e **Ubicazione lavoro risorsa** devono essere aggiunti alle entità **Inserimento ore**, **Valore effettivo**, **Dettagli di riga fattura** e **Riga giornale di registrazione**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="b5ad1-135">In PSA fai clic su **Impostazioni** > **Soluzioni** e quindi fai doppio clic su **dimensioni di determinazione dei prezzi di \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-135">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="b5ad1-136">In Esplora soluzioni, nel riquadro di spostamento a sinistra, seleziona **Entità > Inserimento ore**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="b5ad1-137">Espandi l'entità **Dettagli riga di offerta** e seleziona **Campi**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="b5ad1-138">Fai clic su **Nuovo** per creare un nuovo campo denominato **Ubicazione lavoro risorsa** e seleziona **Set di opzioni** come tipo di campo.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="b5ad1-139">Seleziona **Utilizza come set di opzioni esistente**, seleziona il set di opzioni **Ubicazione lavoro risorsa** e quindi fai clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-139">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="b5ad1-140">Ripeti i passaggi da 1 a 5 per aggiungere questo campo alle entità **Valore effettivo**, **Dettagli di riga fattura** e **Riga giornale di registrazione**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-140">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="b5ad1-141">Ripeti i passaggi da 1 a 6 per il set di opzioni **Ore lavorative risorsa**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![Aggiungere Ubicazione lavoro risorsa a Inserimento ore](media/RWL-time-entry.png)

<span data-ttu-id="b5ad1-143">Questa operazione completa le modifiche allo schema necessarie per le dimensioni personalizzate basate su set di opzioni.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="b5ad1-144">Dimensioni di determinazione dei prezzi personalizzate basate su entità</span><span class="sxs-lookup"><span data-stu-id="b5ad1-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="b5ad1-145">Quando la dimensione di determinazione dei prezzi personalizzata è un'entità, aggiungi la relazione 1:N tra l'entità di dimensione e le entità chiave di Project Service.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="b5ad1-146">Utilizzando l'esempio Titolo standard precedente, è ragionevole prevedere che a ogni dipendente sia assegnato un titolo standard.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="b5ad1-147">Di conseguenza, necessiti una relazione 1:N tra Titolo standard e Risorsa prenotabile oppure una relazione N:1 se è stata creata tra Risorsa prenotabile e Titolo standard.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="b5ad1-148">In PSA fai clic su **Impostazioni** > **Soluzioni** e quindi fai doppio clic su **dimensioni di determinazione dei prezzi di \<your organization name>**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-148">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="b5ad1-149">In Esplora soluzioni, nel riquadro di spostamento a sinistra, seleziona **Entità > Titolo standard**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="b5ad1-150">Espandi l'entità **Titolo standard** e seleziona **Relazione 1:N**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="b5ad1-151">Fai clic su **Nuovo** per creare un nuova relazione 1:N denominata **Da Titolo standard a Risorsa prenotabile**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="b5ad1-152">Immetti le informazioni richieste e quindi fai clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-152">Enter the required information, and then click **Save**.</span></span>

> ![Aggiungere Titolo standard come campo di riferimento a Risorsa prenotabile](media/ST-BR.png)

<span data-ttu-id="b5ad1-154">Anche Titolo standard deve essere aggiunto alle entità di determinazione dei prezzi di Project Service, ovvero **Prezzo ruolo** e **Ricarico prezzo ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="b5ad1-155">Anche questa operazione viene eseguita utilizzando relazioni 1:N tra le entità **Titolo standard** e **Prezzo ruolo** e tra le entità **Titolo standard** e **Ricarico prezzi ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="b5ad1-156">In Esplora soluzioni, nel riquadro di spostamento a sinistra, seleziona **Entità > Titolo standard**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="b5ad1-157">Espandi l'entità **Titolo standard** e seleziona **Relazione 1:N**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="b5ad1-158">Fai clic su **Nuovo** per creare un nuova relazione 1:N denominata **Da Titolo standard a Prezzo ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="b5ad1-159">Immetti le informazioni richieste e quindi fai clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="b5ad1-160">Ripeti i passaggi da 1 a 4 per creare relazioni 1:N tra le entità **Titolo standard** e **Ricarico di prezzo ruolo**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="b5ad1-161">Nelle fasi di vendita e stima del progetto, per determinare il prezzo dell'offerta/del progetto, sono necessarie stime del lavoro richiesto per ogni titolo standard.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="b5ad1-162">Ciò significa che sono necessarie relazioni 1:N tra Titolo standard e ognuna di queste entità di stima in Project Service:</span><span class="sxs-lookup"><span data-stu-id="b5ad1-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="b5ad1-163">**Dettagli riga di offerta**</span><span class="sxs-lookup"><span data-stu-id="b5ad1-163">**Quote line Detail**</span></span>
- <span data-ttu-id="b5ad1-164">**Dettagli di voce di contratto di progetto**</span><span class="sxs-lookup"><span data-stu-id="b5ad1-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="b5ad1-165">**Attività di progetto**</span><span class="sxs-lookup"><span data-stu-id="b5ad1-165">**Project Task**</span></span>
- <span data-ttu-id="b5ad1-166">**Membro del team di progetto**</span><span class="sxs-lookup"><span data-stu-id="b5ad1-166">**Project Team Member**</span></span>
- <span data-ttu-id="b5ad1-167">**Riga di stima**</span><span class="sxs-lookup"><span data-stu-id="b5ad1-167">**Estimate Line**</span></span>

5. <span data-ttu-id="b5ad1-168">Ripeti i passaggi da 1 a 5 per creare relazioni 1:N tra **Titolo standard** e **Dettagli riga di offerta**, **Dettagli di voce di contratto di progetto**, **Attività di progetto**, **Membro del team di progetto** e **Riga di stima**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-168">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Task**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![Aggiungere Titolo standard come campo di riferimento a Riga di stima](media/ST-Estimate-Line.png)

<span data-ttu-id="b5ad1-170">Nelle fasi di consegna e fatturazione, è necessario determinare accuratamente il prezzo del lavoro completato per ogni titolo standard nel valori effettivi di progetto.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-170">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="b5ad1-171">Ciò significa che deve esistere una relazione 1:N tra **Titolo standard** e le entità **Inserimento ore**, **Valore effettivo**, **Dettagli di riga fattura** e **Riga giornale di registrazione**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-171">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="b5ad1-172">Ripeti i passaggi da 1 a 6 per creare relazioni 1:N tra **Titolo standard** e le entità **Inserimento ore**, **Valore effettivo**, **Dettagli di riga fattura** e **Riga giornale di registrazione**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-172">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![Aggiungere Titolo standard come campo di riferimento a Inserimento ore](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="b5ad1-174">Configurare l'impostazione predefinita del valore della dimensione utilizzando funzionalità di mapping della piattaforma</span><span class="sxs-lookup"><span data-stu-id="b5ad1-174">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="b5ad1-175">Per Inserimento ore, sarebbe utile che il sistema utilizzasse, per impostazione predefinita, il titolo standard nell'inserimento ore anziché quello della risorsa prenotabile che sta registrando l'inserimento ore.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-175">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="b5ad1-176">Utilizza i passaggi seguenti per aggiungere mapping di campi nella relazione 1:N tra **Risorsa prenotabile** e **Inserimento ore**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-176">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="b5ad1-177">In Esplora soluzioni, nel riquadro di spostamento a sinistra, seleziona **Entità > Titolo standard**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-177">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="b5ad1-178">Espandi l'entità **Titolo standard** e seleziona **Relazione 1:N**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-178">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="b5ad1-179">Fai doppio clic su **Da Risorsa prenotabile a Inserimento ore**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-179">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="b5ad1-180">Nella pagina **Relazione**, fai clic su **Utilizza mapping campi**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-180">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="b5ad1-181">Fai clic su **Nuovo** per creare un nuovo mapping dei campi tra il campo **Titolo standard** dell'entità **Risorsa prenotabile** e il campo di riferimento **Titolo standard** dell'entità **Inserimento ore**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-181">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![Impostare mapping di campi per consentire l'impostazione predefinita di Titolo standard da Risorsa prenotabile a Inserimento ore](media/ST-Mapping2.png)


<span data-ttu-id="b5ad1-183">Questa operazione completa le modifiche allo schema necessarie per le dimensioni personalizzate basate su entità.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-183">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="b5ad1-184">Aggiungere campi personalizzati a moduli, viste e regole di business</span><span class="sxs-lookup"><span data-stu-id="b5ad1-184">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="b5ad1-185">Dopo aver apportato tutte le modifiche necessarie allo schema, è necessario rendere i campi visibili nell'interfaccia utente tramite l'aggiunta di campi ai moduli e alle viste.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-185">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="b5ad1-186">Apri il modulo o la vista.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-186">Open the form or the view.</span></span> <span data-ttu-id="b5ad1-187">Nel riquadro di spostamento a destra, seleziona il campo e trascinalo nel canvas del modulo.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-187">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="b5ad1-188">Se modifichi una vista, utilizza il riquadro di spostamento destro, fai clic su **Aggiungi campi** e nella finestra di dialogo **Elenco campi**, seleziona i campi necessari e fai clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-188">If you are editing a view, use the right navigation pane, click **Add fields**, and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="b5ad1-189">La tabella seguente fornisce un elenco completo di moduli e viste predefinite, elencati per entità, che devono essere aggiornati con i nuovi campi.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-189">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="b5ad1-190">Se nelle personalizzazioni di queste entità sono presenti ulteriori viste o moduli, aggiungi i nuovi campi anche a questi.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-190">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="b5ad1-191">Entità Project Service</span><span class="sxs-lookup"><span data-stu-id="b5ad1-191">Project Service Entity</span></span>        | <span data-ttu-id="b5ad1-192">Moduli che necessitano il nuovo campo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-192">Forms that need the new field</span></span>   |<span data-ttu-id="b5ad1-193">Viste che necessitano il nuovo campo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-193">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="b5ad1-194">Prezzo ruolo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-194">Role Price</span></span>|<span data-ttu-id="b5ad1-195">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-195">• Information</span></span> |<span data-ttu-id="b5ad1-196">• Prezzi categorie di risorse attivi</span><span class="sxs-lookup"><span data-stu-id="b5ad1-196">• Active Resource Category Prices</span></span><br> <span data-ttu-id="b5ad1-197">• Vista Prezzo categoria di risorsa associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-197">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="b5ad1-198">Ricarico prezzo ruolo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-198">Role Price Markup</span></span>|<span data-ttu-id="b5ad1-199">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-199">• Information</span></span>|<span data-ttu-id="b5ad1-200">• Ricarico prezzo ruolo attivo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-200">• Active Role Price Markup</span></span><br><span data-ttu-id="b5ad1-201">• Vista Ricarico prezzo ruolo associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-201">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="b5ad1-202">Dettagli riga di offerta</span><span class="sxs-lookup"><span data-stu-id="b5ad1-202">Quote line detail</span></span>|<span data-ttu-id="b5ad1-203">• Informazioni sul progetto</span><span class="sxs-lookup"><span data-stu-id="b5ad1-203">• Project Information</span></span><br><span data-ttu-id="b5ad1-204">• Creazione rapida progetti</span><span class="sxs-lookup"><span data-stu-id="b5ad1-204">• Project Quick Create</span></span>|<span data-ttu-id="b5ad1-205">• Dettagli di riga di offerta attiva</span><span class="sxs-lookup"><span data-stu-id="b5ad1-205">• Active Quote Line Detail</span></span><br><span data-ttu-id="b5ad1-206">• Dettagli di riga di offerta combinata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-206">• Combined Quote Line Details</span></span><br><span data-ttu-id="b5ad1-207">• Vista Dettagli riga di offerta associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-207">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="b5ad1-208">Dettagli di voce di contratto di progetto</span><span class="sxs-lookup"><span data-stu-id="b5ad1-208">Project Contract line detail</span></span>|<span data-ttu-id="b5ad1-209">• Informazioni sul progetto</span><span class="sxs-lookup"><span data-stu-id="b5ad1-209">• Project Information</span></span><br><span data-ttu-id="b5ad1-210">• Creazione rapida progetti</span><span class="sxs-lookup"><span data-stu-id="b5ad1-210">• Project Quick Create</span></span>|<span data-ttu-id="b5ad1-211">• Dettagli voce di contratto combinati</span><span class="sxs-lookup"><span data-stu-id="b5ad1-211">• Combined Contract Line Details</span></span><br><span data-ttu-id="b5ad1-212">• Dettagli voce di contratto attivi</span><span class="sxs-lookup"><span data-stu-id="b5ad1-212">• Active Contract Line Details</span></span><br><span data-ttu-id="b5ad1-213">• Vista Dettaglio riga di contratto associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-213">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="b5ad1-214">Attività di progetto</span><span class="sxs-lookup"><span data-stu-id="b5ad1-214">Project Task</span></span>|<span data-ttu-id="b5ad1-215">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-215">• Information</span></span><br><span data-ttu-id="b5ad1-216">• Nuovo modulo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-216">• New Form</span></span>||
|  <span data-ttu-id="b5ad1-217">Membro del team di progetto</span><span class="sxs-lookup"><span data-stu-id="b5ad1-217">Project Team Member</span></span>|<span data-ttu-id="b5ad1-218">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-218">• Information</span></span><br><span data-ttu-id="b5ad1-219">• Nuovo modulo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-219">• New Form</span></span>|<span data-ttu-id="b5ad1-220">• Membri del team di progetto attivi</span><span class="sxs-lookup"><span data-stu-id="b5ad1-220">• Active Project Team Members</span></span><br><span data-ttu-id="b5ad1-221">• Membri del team di progetto</span><span class="sxs-lookup"><span data-stu-id="b5ad1-221">• Project Team Members</span></span><br><span data-ttu-id="b5ad1-222">• Vista Membri del team di progetto associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-222">• Project Team members associated View</span></span>|
|  <span data-ttu-id="b5ad1-223">Inserimento ore</span><span class="sxs-lookup"><span data-stu-id="b5ad1-223">Time Entry</span></span>|<span data-ttu-id="b5ad1-224">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-224">• Information</span></span><br><span data-ttu-id="b5ad1-225">• Crea inserimento ore</span><span class="sxs-lookup"><span data-stu-id="b5ad1-225">• Create Time Entry</span></span>|<span data-ttu-id="b5ad1-226">• Inserimenti ore personali per data</span><span class="sxs-lookup"><span data-stu-id="b5ad1-226">• My Time Entries By Date</span></span><br><span data-ttu-id="b5ad1-227">• Inserimenti ore personali per questa settimana</span><span class="sxs-lookup"><span data-stu-id="b5ad1-227">• My time Entries for this week</span></span><br><span data-ttu-id="b5ad1-228">• Inserimenti ore per l'approvazione.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-228">• Time entries for approval</span></span>|
|  <span data-ttu-id="b5ad1-229">Riga giornale di registrazione</span><span class="sxs-lookup"><span data-stu-id="b5ad1-229">Journal Line</span></span>|<span data-ttu-id="b5ad1-230">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-230">• Information</span></span><br><span data-ttu-id="b5ad1-231">• Creazione rapida</span><span class="sxs-lookup"><span data-stu-id="b5ad1-231">• Quick create</span></span>|<span data-ttu-id="b5ad1-232">• Righe giornale di registrazione attive</span><span class="sxs-lookup"><span data-stu-id="b5ad1-232">• Active journal lines</span></span><br><span data-ttu-id="b5ad1-233">• Vista Riga giornale di registrazione associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-233">• Journal Line associated view</span></span>|
|  <span data-ttu-id="b5ad1-234">Dettagli di riga fattura</span><span class="sxs-lookup"><span data-stu-id="b5ad1-234">Invoice Line Detail</span></span>|<span data-ttu-id="b5ad1-235">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-235">• Information</span></span><br><span data-ttu-id="b5ad1-236">• Creazione rapida</span><span class="sxs-lookup"><span data-stu-id="b5ad1-236">• Quick create</span></span>|<span data-ttu-id="b5ad1-237">• Dettagli di riga fattura attiva</span><span class="sxs-lookup"><span data-stu-id="b5ad1-237">• Active Invoice Line Details</span></span><br><span data-ttu-id="b5ad1-238">• Transazioni fattura addebitabili</span><span class="sxs-lookup"><span data-stu-id="b5ad1-238">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="b5ad1-239">• Transazioni fattura gratuite</span><span class="sxs-lookup"><span data-stu-id="b5ad1-239">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="b5ad1-240">• Vista Dettagli di riga fattura associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-240">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="b5ad1-241">• Transazione fattura non addebitabile</span><span class="sxs-lookup"><span data-stu-id="b5ad1-241">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="b5ad1-242">Valore effettivo</span><span class="sxs-lookup"><span data-stu-id="b5ad1-242">Actual</span></span>|<span data-ttu-id="b5ad1-243">• Informazioni</span><span class="sxs-lookup"><span data-stu-id="b5ad1-243">• Information</span></span><br><span data-ttu-id="b5ad1-244">• Valori effettivi attivi</span><span class="sxs-lookup"><span data-stu-id="b5ad1-244">• Active Actuals</span></span>|<span data-ttu-id="b5ad1-245">• Vista Valore effettivo associata</span><span class="sxs-lookup"><span data-stu-id="b5ad1-245">• Actual Associated view</span></span>|

<span data-ttu-id="b5ad1-246">A seconda di quanto hai definito, è possibile che sia necessario aggiungere campi personalizzati anche alle regole di business.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-246">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="b5ad1-247">Un esempio predefinito riguarda la regola di business **Possibilità di modifica di Inserimento ore basata sullo stato**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-247">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="b5ad1-248">Tale regola definisce quali campi devono essere bloccati quando lo stato di Inserimento ore non è modificabile ad esempio **Approvato**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-248">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="b5ad1-249">Aggiungi campi a questa regola di business di modo che i campi siano bloccati per la modifica quando lo stato di Inserimento ore non è **Bozza** o **Restituito**.</span><span class="sxs-lookup"><span data-stu-id="b5ad1-249">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]