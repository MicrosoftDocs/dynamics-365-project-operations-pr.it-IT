---
title: Fatture proforma
description: Questo argomento fornisce informazioni sulle fatture proforma in Project Operations.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 3eaf2f19506c5464c302176fc620aad5f29b4ae7
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000666"
---
# <a name="proforma-invoices"></a><span data-ttu-id="c4b08-103">Fatture proforma</span><span class="sxs-lookup"><span data-stu-id="c4b08-103">Proforma invoices</span></span>

<span data-ttu-id="c4b08-104">_**Si applica a:** Project Operations per scenari basati su risorse/materiali non stoccati_</span><span class="sxs-lookup"><span data-stu-id="c4b08-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="c4b08-105">La fatturazione proforma fornisce ai responsabili di progetto un secondo livello di approvazione prima della creazione di fatture per i clienti.</span><span class="sxs-lookup"><span data-stu-id="c4b08-105">Proforma invoicing gives project managers a second level of approval before they create invoices for customers.</span></span> <span data-ttu-id="c4b08-106">Il primo livello di approvazione viene completato quando le voci di tempo, spesa e materiale inviate dai membri del team di progetto sono approvate.</span><span class="sxs-lookup"><span data-stu-id="c4b08-106">The first level of approval is completed when time, expense, and material entries that project team members submit are approved.</span></span> <span data-ttu-id="c4b08-107">Le fatture proforma confermate sono disponibili nel modulo Contabilità di progetto di Project Operations.</span><span class="sxs-lookup"><span data-stu-id="c4b08-107">Confirmed proforma invoices are available in the Project Accounting module of Project Operations.</span></span> <span data-ttu-id="c4b08-108">I contabili del progetto possono eseguire aggiornamenti aggiuntivi come IVA, contabilità e layout delle fatture.</span><span class="sxs-lookup"><span data-stu-id="c4b08-108">Project accountants can perform additional updates such as sales tax, accounting, and invoice layout.</span></span>


## <a name="creating-project-invoices"></a><span data-ttu-id="c4b08-109">Creare fatture di progetto</span><span class="sxs-lookup"><span data-stu-id="c4b08-109">Creating project invoices</span></span>

<span data-ttu-id="c4b08-110">Le fatture di progetto possono essere create individualmente o in blocco.</span><span class="sxs-lookup"><span data-stu-id="c4b08-110">Project invoices can be created one at a time or in bulk.</span></span> <span data-ttu-id="c4b08-111">Puoi crearle manualmente oppure configurarle di modo che siano generate mediante esecuzioni automatizzate.</span><span class="sxs-lookup"><span data-stu-id="c4b08-111">You can create them manually, or they can be configured so that they are generated in automated runs.</span></span>

### <a name="manually-create-project-invoices"></a><span data-ttu-id="c4b08-112">Creare fatture di progetto manualmente</span><span class="sxs-lookup"><span data-stu-id="c4b08-112">Manually create project invoices</span></span> 

<span data-ttu-id="c4b08-113">Nella pagina elenco **Contratti di progetto**, puoi creare fatture di progetto separatamente per ogni contratto di progetto, oppure puoi creare fatture in blocco per molteplici contratti di progetto.</span><span class="sxs-lookup"><span data-stu-id="c4b08-113">From the **Project Contracts** list page, you can create project invoices separately for each project contract, or you can create invoices in bulk for multiple project contracts.</span></span>

<span data-ttu-id="c4b08-114">Segui questa procedura per creare una fattura per uno specifico contratto di progetto.</span><span class="sxs-lookup"><span data-stu-id="c4b08-114">Follow this step to create an invoice for a specific project contract.</span></span>

- <span data-ttu-id="c4b08-115">Nella pagina elenco **Contratti di progetto**, apri un contratto di progetto e quindi seleziona **Crea fattura**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-115">On the **Project Contracts** list page, open a project contract, and then select **Create Invoice**.</span></span>

    <span data-ttu-id="c4b08-116">Una fattura viene generata per tutte le transazioni del contratto di progetto selezionato il cui stato è **Pronto per la fatturazione**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-116">An invoice is generated for all transactions for the selected project contract that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="c4b08-117">Queste transazioni includono tempi, spese, materiali, passaggi fondamentali e altre righe giornale di registrazione vendite non fatturate.</span><span class="sxs-lookup"><span data-stu-id="c4b08-117">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

<span data-ttu-id="c4b08-118">Segui questa procedura per creare fatture in blocco.</span><span class="sxs-lookup"><span data-stu-id="c4b08-118">Follow these steps to create invoices in bulk.</span></span>

1. <span data-ttu-id="c4b08-119">Nella pagina elenco **Contratti di progetto**, seleziona uno o più contratti di progetto per i quali devi creare una fattura per e quindi seleziona **Crea fatture di progetto**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-119">On the **Project Contracts** list page, select one or more project contracts that you must create an invoice for, and then select **Create Project Invoices**.</span></span>

    <span data-ttu-id="c4b08-120">Un messaggio di avviso informa che la creazione delle fatture può richiedere un certo tempo.</span><span class="sxs-lookup"><span data-stu-id="c4b08-120">A warning message informs you that there might be a delay before invoices are created.</span></span> <span data-ttu-id="c4b08-121">Il processo viene anche visualizzato.</span><span class="sxs-lookup"><span data-stu-id="c4b08-121">The process is also shown.</span></span>

2. <span data-ttu-id="c4b08-122">Seleziona **OK** per chiudere la finestra del messaggio.</span><span class="sxs-lookup"><span data-stu-id="c4b08-122">Select **OK** to close the message box.</span></span>

    <span data-ttu-id="c4b08-123">Una fattura viene generata per tutte le transazioni in una voce di contratto il cui stato è **Pronto per la fatturazione**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-123">An invoice is generated for all transactions on a contract line that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="c4b08-124">Queste transazioni includono tempi, spese, materiali, passaggi fondamentali e altre righe giornale di registrazione vendite non fatturate.</span><span class="sxs-lookup"><span data-stu-id="c4b08-124">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

3. <span data-ttu-id="c4b08-125">Per visualizzare le fatture generate, seleziona **Sales** \> **Fatturazione** \> **Fatture**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-125">To view the invoices that are generated, go to **Sales** \> **Billing** \> **Invoices**.</span></span> <span data-ttu-id="c4b08-126">Viene visualizzata una fattura per ogni contratto di progetto.</span><span class="sxs-lookup"><span data-stu-id="c4b08-126">You will see one invoice for each project contract.</span></span>

### <a name="set-up-automated-creation-of-project-invoices"></a><span data-ttu-id="c4b08-127">Impostare la creazione automatica di fatture di progetto</span><span class="sxs-lookup"><span data-stu-id="c4b08-127">Set up automated creation of project invoices</span></span> 

<span data-ttu-id="c4b08-128">Segui questa procedura per configurare un'esecuzione di fatturazione automatizzata.</span><span class="sxs-lookup"><span data-stu-id="c4b08-128">Follow these steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="c4b08-129">Passa a **Impostazioni** \> **Processi batch**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-129">Go to **Settings** \> **Batch jobs**.</span></span>
2. <span data-ttu-id="c4b08-130">Crea un processo batch e denominalo **Project Operations - Creazione di fatture**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-130">Create a batch job, and name it **Project Operations Create Invoices**.</span></span> <span data-ttu-id="c4b08-131">Il nome del processo batch deve includere il termine "Creazione di fatture".</span><span class="sxs-lookup"><span data-stu-id="c4b08-131">The name of the batch job must include the term "Create Invoices."</span></span>
3. <span data-ttu-id="c4b08-132">Nel campo **Tipo di processo** seleziona **Nome**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-132">In the **Job type** field, select **None**.</span></span> <span data-ttu-id="c4b08-133">Per impostazione predefinita, le opzioni **Frequenza giornaliera** e **Attivo** sono impostate su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-133">By default, the **Frequency Daily** and **Is Active** options are set to **Yes**.</span></span>
4. <span data-ttu-id="c4b08-134">Seleziona **Esegui flusso di lavoro**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-134">Select **Run Workflow**.</span></span> <span data-ttu-id="c4b08-135">Nella finestra di dialogo **Cerca record**, vengono visualizzati tre flussi di lavoro:</span><span class="sxs-lookup"><span data-stu-id="c4b08-135">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

    - <span data-ttu-id="c4b08-136">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="c4b08-136">ProcessRunCaller</span></span>
    - <span data-ttu-id="c4b08-137">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="c4b08-137">ProcessRunner</span></span>
    - <span data-ttu-id="c4b08-138">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="c4b08-138">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="c4b08-139">Seleziona **ProcessRunCaller** e quindi **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-139">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="c4b08-140">Nella finestra di dialogo successiva, seleziona **OK**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-140">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="c4b08-141">Un flusso di lavoro **Sospendi** è seguito da un flusso di lavoro **Elabora**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-141">A **Sleep** workflow is followed by a **Process** workflow.</span></span>

    <span data-ttu-id="c4b08-142">Puoi anche selezionare **ProcessRunner** nel passaggio 5.</span><span class="sxs-lookup"><span data-stu-id="c4b08-142">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="c4b08-143">Successivamente, quando selezioni **OK**, un flusso di lavoro **Elabora** è seguito da un flusso di lavoro **Sospendi**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-143">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="c4b08-144">I flussi di lavoro **ProcessRunCaller** e **ProcessRunner** creano le fatture.</span><span class="sxs-lookup"><span data-stu-id="c4b08-144">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="c4b08-145">**ProcessRunCaller** chiama **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="c4b08-145">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="c4b08-146">**ProcessRunner** è il flusso di lavoro che crea le fatture.</span><span class="sxs-lookup"><span data-stu-id="c4b08-146">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="c4b08-147">Esamina tutte le voci di contratto per le quali devono essere create le fatture e crea le fatture per tali voci.</span><span class="sxs-lookup"><span data-stu-id="c4b08-147">It goes through all the contract lines that invoices must be created for, and it creates invoices for those lines.</span></span> <span data-ttu-id="c4b08-148">Per determinare le voci di contratto per le quali creare le fatture, il processo analizza le date di esecuzione delle fatture per le voci di contratto.</span><span class="sxs-lookup"><span data-stu-id="c4b08-148">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="c4b08-149">Se le voci di contratto appartenenti a un contratto hanno la stessa data di esecuzione delle fatture, le transazioni sono combinate in una fattura con due righe fattura.</span><span class="sxs-lookup"><span data-stu-id="c4b08-149">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="c4b08-150">Se non sono presenti transazioni per le quali creare fatture, il processo ignora la creazione delle fatture.</span><span class="sxs-lookup"><span data-stu-id="c4b08-150">If there are no transactions to create invoices for, the job skips invoice creation.</span></span>

<span data-ttu-id="c4b08-151">Dopo il termine dell'esecuzione di **ProcessRunner**, questo flusso di lavoro chiama **ProcessRunCaller**, fornisce l'ora di fine e viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="c4b08-151">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="c4b08-152">**ProcessRunCaller** avvia quindi un timer che viene eseguito per 24 ore a partire dall'ora di fine specificata.</span><span class="sxs-lookup"><span data-stu-id="c4b08-152">**ProcessRunCaller** then starts a timer that runs for 24 hours from the specified end time.</span></span> <span data-ttu-id="c4b08-153">Alla fine dell'esecuzione del timer, **ProcessRunCaller** viene chiuso.</span><span class="sxs-lookup"><span data-stu-id="c4b08-153">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="c4b08-154">Il processo batch per la creazione di fatture è un processo ricorrente.</span><span class="sxs-lookup"><span data-stu-id="c4b08-154">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="c4b08-155">Se questo processo batch viene eseguito molte volte, vengono create molteplici istanze del processo che causano errori.</span><span class="sxs-lookup"><span data-stu-id="c4b08-155">If this batch process is run many times, multiple instances of the job are created and cause errors.</span></span> <span data-ttu-id="c4b08-156">Pertanto, devi avviare il processo batch una sola volta e riavviarlo solo se viene interrotto.</span><span class="sxs-lookup"><span data-stu-id="c4b08-156">Therefore, you should start the batch process only one time, and you should restart it only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="c4b08-157">La fatturazione batch viene eseguita solo per le righe di contratto di progetto configurate dalle pianificazioni fatture.</span><span class="sxs-lookup"><span data-stu-id="c4b08-157">Batch invoicing only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="c4b08-158">Una riga di contratto con un metodo di fatturazione a prezzo fisso deve avere i passaggi fondamentali configurati.</span><span class="sxs-lookup"><span data-stu-id="c4b08-158">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="c4b08-159">Una riga di contratto di progetto con un metodo di fatturazione di tempo e materiali richiederà una pianificazione fatturazione basata sulla data.</span><span class="sxs-lookup"><span data-stu-id="c4b08-159">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span> <span data-ttu-id="c4b08-160">Lo stesso vale per una riga di contratto basato su progetto.</span><span class="sxs-lookup"><span data-stu-id="c4b08-160">The same applies to a project-based contract line.</span></span>      
 
### <a name="edit-a-draft-invoice"></a><span data-ttu-id="c4b08-161">Modificare una bozza di fattura</span><span class="sxs-lookup"><span data-stu-id="c4b08-161">Edit a draft invoice</span></span>

<span data-ttu-id="c4b08-162">Quando crei una bozza di fattura di progetto, tutte le transazioni di vendita non fatturate create all'approvazione delle voci di tempo, spesa e utilizzo di materiale sono inseriti nella fattura.</span><span class="sxs-lookup"><span data-stu-id="c4b08-162">When you create a draft project invoice, all unbilled sales transactions that were created when the time, expense, and material usage entries were approved are pulled onto the invoice.</span></span> <span data-ttu-id="c4b08-163">Puoi eseguire le seguenti rettifiche quando la fattura è ancora nello stato bozza:</span><span class="sxs-lookup"><span data-stu-id="c4b08-163">You can make the following adjustments while the invoice is still in a draft stage:</span></span>

- <span data-ttu-id="c4b08-164">Eliminare o modificare dettagli di riga fattura.</span><span class="sxs-lookup"><span data-stu-id="c4b08-164">Delete or edit invoice line details.</span></span>
- <span data-ttu-id="c4b08-165">Modificare e rettificare la quantità e il tipo di fatturazione.</span><span class="sxs-lookup"><span data-stu-id="c4b08-165">Edit and adjust the quantity and billing type.</span></span>

<span data-ttu-id="c4b08-166">Seleziona **Conferma** per confermare una fattura.</span><span class="sxs-lookup"><span data-stu-id="c4b08-166">Select **Confirm** to confirm an invoice.</span></span> <span data-ttu-id="c4b08-167">L'azione Conferma è unidirezionale.</span><span class="sxs-lookup"><span data-stu-id="c4b08-167">The Confirm action is a one-way action.</span></span> <span data-ttu-id="c4b08-168">Quando selezioni **Conferma**, il sistema rende la fattura di sola lettura e crea valori effettivi di vendite fatturate da ogni dettaglio di ogni riga fattura.</span><span class="sxs-lookup"><span data-stu-id="c4b08-168">When you select **Confirm**, the system makes the invoice read-only and creates billed sales actuals from each invoice line detail for each invoice line.</span></span> <span data-ttu-id="c4b08-169">Se il dettaglio di riga fattura fa riferimento a un valore effettivo di vendite non fatturate, il sistema storna anche questo valore.</span><span class="sxs-lookup"><span data-stu-id="c4b08-169">If the invoice line detail references an unbilled sales actual, the system also reverses the unbilled sales actual.</span></span> <span data-ttu-id="c4b08-170">(qualsiasi dettaglio di riga fattura creato da una voce di spesa o un inserimento ore farà riferimento a un valore effettivo di vendite non fatturate). I sistemi di integrazione di contabilità generale possono utilizzare questo storno per stornare il lavoro in corso del progetto per scopi di contabilità.</span><span class="sxs-lookup"><span data-stu-id="c4b08-170">(Any invoice line detail that was created from a time or expense entry will reference an unbilled sales actual.) General ledger integration systems can use this reversal to reverse project work in progress (WIP) for accounting purposes.</span></span>

### <a name="correct-a-confirmed-invoice"></a><span data-ttu-id="c4b08-171">Correggere una fattura confermata</span><span class="sxs-lookup"><span data-stu-id="c4b08-171">Correct a confirmed invoice</span></span>

<span data-ttu-id="c4b08-172">Le fatture confermate possono essere modificate (corrette).</span><span class="sxs-lookup"><span data-stu-id="c4b08-172">Confirmed invoices can be edited (corrected).</span></span> <span data-ttu-id="c4b08-173">Quando correggi una fattura confermata, viene creata una nuova bozza di fattura correttiva.</span><span class="sxs-lookup"><span data-stu-id="c4b08-173">When you correct a confirmed invoice, a new draft corrective invoice is created.</span></span> <span data-ttu-id="c4b08-174">Poiché si presuppone che tu voglia stornare tutte le transazioni e quantità dalla fattura originale, questa fattura correttiva include tutte le transazioni della fattura originale e tutte le relative quantità sono pari a 0 (zero).</span><span class="sxs-lookup"><span data-stu-id="c4b08-174">Because the assumption is that you want to reverse all the transactions and quantities from the original invoice, this corrective invoice includes all the transactions from the original invoice, and all the quantities on it are 0 (zero).</span></span>

<span data-ttu-id="c4b08-175">Se alcune transazioni non richiedono la correzione, puoi rimuoverle dalla bozza di fattura correttiva.</span><span class="sxs-lookup"><span data-stu-id="c4b08-175">If any transactions don't require correction, you can remove them from the draft corrective invoice.</span></span> <span data-ttu-id="c4b08-176">Se desideri stornare o restituire solo una quantità parziale, puoi modificare il campo **Quantità** nel dettaglio della riga.</span><span class="sxs-lookup"><span data-stu-id="c4b08-176">If you want to reverse or return only a partial quantity, you can edit the **Quantity** field on the line detail.</span></span> <span data-ttu-id="c4b08-177">Se apri il dettaglio di riga fattura, puoi vedere la quantità della fattura originale.</span><span class="sxs-lookup"><span data-stu-id="c4b08-177">If you open the invoice line detail, you can see the original invoice quantity.</span></span> <span data-ttu-id="c4b08-178">Puoi quindi modificare la quantità della fattura corrente di modo che sia inferiore o superiore alla quantità della fattura originale.</span><span class="sxs-lookup"><span data-stu-id="c4b08-178">You can then edit the current invoice quantity so that it's less than or more than the original invoice quantity.</span></span>

<span data-ttu-id="c4b08-179">Quando confermi una fattura correttiva, il valore effettivo delle vendite fatturate originali viene stornato e viene creato un nuovo valore effettivo di vendite fatturate.</span><span class="sxs-lookup"><span data-stu-id="c4b08-179">When you confirm a corrective invoice, the original billed sales actual is reversed, and a new billed sales actual is created.</span></span> <span data-ttu-id="c4b08-180">Se la quantità è stata ridotta, la differenza genererà anche la creazione di un nuovo valore effettivo delle vendite.</span><span class="sxs-lookup"><span data-stu-id="c4b08-180">If the quantity was reduced, the difference will cause a new unbilled sales actual to be created too.</span></span> <span data-ttu-id="c4b08-181">Ad esempio, se lea vendita fatturata originale era per otto ore e il dettaglio di riga fattura correttiva presenta una quantità ridotta di sei ore, la riga delle vendite fatturate originali viene stornata e due nuovi valori effettivi vengono creati:</span><span class="sxs-lookup"><span data-stu-id="c4b08-181">For example, if the original billed sale was for eight hours, and the corrective invoice line detail has a reduced quantity of six hours, the original billed sales line is reversed and two new actuals are created:</span></span>

- <span data-ttu-id="c4b08-182">Un valore effettivo delle vendite fatturate per sei ore.</span><span class="sxs-lookup"><span data-stu-id="c4b08-182">A billed sales actual for six hours.</span></span>
- <span data-ttu-id="c4b08-183">Un valore effettivo delle vendite non fatturate per le due ore rimanenti.</span><span class="sxs-lookup"><span data-stu-id="c4b08-183">An unbilled sales actual for the remaining two hours.</span></span> <span data-ttu-id="c4b08-184">Questa transazione può essere fatturata successivamente o contrassegnata come non addebitale, a seconda delle negoziazioni con il cliente.</span><span class="sxs-lookup"><span data-stu-id="c4b08-184">This transaction can either be billed later or marked as non-chargeable, depending on the negotiations with the customer.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
